# Database configuration
database:
  host: ${DB_HOST:-localhost}
  port: ${DB_PORT:-5432}
  database: ${DB_NAME:-realestate_dev}
  user: ${DB_USER:-postgres}
  password: ${DB_PASSWORD:-dev}
  min_connections: 5
  max_connections: 20
  source_cache_ttl_seconds: 3600  # üî• In-memory source code cache (1 hour)

# Scraping settings
scraping:
  max_pages_per_source: 10
  request_timeout: 30
  delay_between_requests: 1.0  # seconds
  max_retries: 3
  user_agent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"
  respect_robots_txt: true

# Sources configuration
sources:
  - id: "00000000-0000-0000-0000-000000000001"  # Placeholder UUID
    name: "Remax"
    base_url: "https://www.remax-czech.cz"
    enabled: true
    scraper_class: "RemaxScraper"
    
  - id: "00000000-0000-0000-0000-000000000002"
    name: "MM Reality"
    base_url: "https://www.mmreality.cz"
    enabled: true
    scraper_class: "MmRealityScraper"
    
  - id: "00000000-0000-0000-0000-000000000003"
    name: "Prodejme.to"
    base_url: "https://www.prodejme.to"
    enabled: false  # M≈Ø≈æe vy≈æadovat Playwright
    scraper_class: "ProdejmeToScraper"

  - id: "00000000-0000-0000-0000-000000000004"
    name: "Sreality"
    base_url: "https://www.sreality.cz"
    enabled: true
    scraper_class: "SrealityScraper"

# Scheduler configuration
scheduler:
  enabled: true
  # Cron format: minute hour day month day_of_week
  cron_schedule: "0 8,20 * * *"  # Ka≈æd√Ω den v 8:00 a 20:00
  timezone: "Europe/Prague"

# Logging configuration
logging:
  level: INFO
  format: "json"  # json nebo text
  file: "logs/scraper.log"
  max_file_size_mb: 100
  backup_count: 10
  
# Deactivation threshold
# Poƒçet bƒõh≈Ø, po kter√Ωch se inzer√°t oznaƒç√≠ jako neaktivn√≠, pokud nebyl vidƒõn
deactivation_threshold: 3
# ============================================================================
# SEARCH FILTERS - Geografick√© a cenov√© filtry
# ============================================================================
search_filters:
  # Prim√°rn√≠ region interest - Znojmo okres
  target_districts:
    - "Znojmo"  # Okres/okres

  # Filtery pro domy (Houses)
  houses:
    enabled: true
    max_price: 7500000  # Kƒç
    min_price: null     # null = bez minima
    offer_types:
      - "Sale"          # Prodej
      - "Rent"          # Pron√°jem
    
  # Filtery pro stavebn√≠ pozemky (Land)
  land:
    enabled: true
    max_price: 2000000  # Kƒç
    min_price: null
    offer_types:
      - "Sale"
    
  # Filtery pro byty (Apartments)
  apartments:
    enabled: false  # Vypnuto, pokud nechce≈° byty
    max_price: null
    min_price: null
    offer_types:
      - "Sale"
      - "Rent"
    
  # Filtery pro komerƒçn√≠ nemovitosti
  commercial:
    enabled: false
    max_price: null
    min_price: null
    offer_types:
      - "Sale"
      - "Rent"

# ============================================================================
# QUALITY FILTERS - Kontrola kvality inzer√°t≈Ø
# ============================================================================
quality_filters:
  # Vy≈æaduj fotky pro inzer√°t
  require_photos: true
  min_photos: 1
  
  # Vy≈æaduj cenu
  require_price: true
  
  # Vy≈æaduj lokaci
  require_location: true
  
  # Vy≈æaduj popis
  require_description: true

# ============================================================================
# SCRAPER-SPECIFIC CONFIGURATION
# ============================================================================
scrapers:
  # MM Reality scraper search configurations
  mmreality:
    search_configs:
      - url: "https://www.mmreality.cz/nemovitosti/prodej/domy/znojmo/"
        offer_type: "Prodej"
        property_type: "D≈Øm"
        
      - url: "https://www.mmreality.cz/nemovitosti/prodej/pozemky/znojmo/"
        offer_type: "Prodej"
        property_type: "Pozemek"
        
      # Weitere Regionen k√∂nnen hier hinzugef√ºgt werden
      # - url: "https://www.mmreality.cz/nemovitosti/prodej/domy/brno/"
      #   offer_type: "Prodej"
      #   property_type: "D≈Øm"
  
  # SREALITY scraper configuration
  sreality:
    detail_fetch_concurrency: 5  # üî• Number of concurrent detail requests
    fetch_details: true
  min_description_length: 20  # znak≈Ø